
<div id="conf-attributes[Product.Id]" class="large-12 product-attributes">
<dl>
	[Product.ConfigurableAttributes=
  		<dt>[Attribute.Title]</dt>
  		<dt>
  			[?Attribute.AttributeCode|Color=
  				<input [?Attribute.ValueRequired|Yes=required] class="product-attributes " id="attribute_[Attribute.AttributeCode]" type="hidden" 
  				admin="[Product.ConfigurableChildProducts,[Attribute.AdminTitle]=[?UserInput.ConfigurableAttributeValueValid,[Attribute.AdminTitle],[AttributeOption.Admin]|yes=[AttributeOption.Admin]]]"

  				value="[Product.ConfigurableChildProducts,[Attribute.AdminTitle]=[?UserInput.ConfigurableAttributeValueValid,[Attribute.AdminTitle],[AttributeOption.Admin]|yes=[AttributeOption.Id]]]"
  				/>
  				<ul class="color-plp" id="[Attribute.Id][Product.Id]">
				[Product.ConfigurableChildProducts,[Attribute.AdminTitle]=
					<li onclick="jQuery('#attribute[Attribute.Id][ParentProduct.Id]').val([AttributeOption.Id]).trigger('change');">
						<div id="[AttributeOption.Id]" class="links-nav colorbox [?UserInput.ConfigurableAttributeValueValid,[Attribute.AdminTitle],[AttributeOption.Admin]|yes=selected ]" style="background-color:[AttributeOption.Color];"></div>
					</li>
				]
				</ul>
  			]
  			<select [?Attribute.ValueRequired|Yes=required] name="[Attribute.AttributeCode]" id="attribute[Attribute.Id][Product.Id]"  onchange="setAttributeValue('[Attribute.AttributeCode]',this.value)" class="span2 product-attrib " [?Attribute.AttributeCode|Color=style="display:none"]>
				<option value="">[_Please select]</option>
				[Product.ConfigurableChildProducts,[Attribute.AdminTitle]=
				<option value="[AttributeOption.Id]" admin="[AttributeOption.Admin]" [?UserInput.ConfigurableAttributeValueValid,[Attribute.AdminTitle],[AttributeOption.Admin]|yes=selected]>[AttributeOption.Admin]</option>
				 ]
			</select>
		</dt>
	]
</dl>
<script type="text/javascript">
	var attrib = jQuery(".product-attrib").initProductAttributes({
								'product_url' 		: '[Website.GetUrl,Product,[Product.Id]]',
								'ajax_url'	  		: '[Website.GetUrl,Ajax,Update]',
								'attribute_class'  	: 'product-attrib',
								'callback'			: {
							 		afterAttributeSelect : function(){
										product_zoom = new Product.Zoom('image', 'track', 'handle', 'zoom_in', 'zoom_out', 'track_hint');
										//console.log(product_zoom);
							 		}
								}
							});
	function setAttributeValue(id,value){
		if(id!=""){
			//jQuery("#"+id).val(value);
			attrib.selectAttribute();
		}else{

		}
	}
</script>
</div>
