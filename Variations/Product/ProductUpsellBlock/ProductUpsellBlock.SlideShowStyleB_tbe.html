/*
*	Renders a variation block containing list of upsell products.  This displays upsell products 
*								in a slider control.
*
*/

[?Product.HasUpSellProducts|yes=
<div class="block-upsell styled">

	<div class="block-title">
		<h4>[_You might also be interested in the following products]</h4>
	</div>
	<div id="upsell" class="product-list tinyCarousel carousel-items-3">
		
		<div class="viewport">
			<ul class="grid overview" id="slider">
				[Product.UpSells= 
				<li class="product-item in-block">
					<div class="item-wrapper styleC">
						
						<div class="product-image">
						   <a href="[Website.GetUrl,Product,[Product.Id]]" title="[Product.Name]"><img src="/[Product.ThumbnailImage=[ProductImage.ImageUrl,140,150]]" alt="[Product.Name]" width="100%"/></a>
						</div>
						 <div class="product-details">
						 	<div class="in-block">[:ProductPriceBlock?Product.Sale]</div>
							<a href="[Website.GetUrl,Product,[Product.Id]]"  title="[Product.Name]"><h3 class="product-name">[Product.Name]</h3></a>
							<p class="description">[Product.Description]</p>
	
						
							<button class="button"><span>[_View Product]</span></button>
						</div>	
						
					</div>
				</li>
				]
			</ul>
			
			
		</div>
		
		<div class="buttons-slides-con">
			<div class="buttons-wrapper">
				<ul class="pager">
					
				</ul>
			</div>
		</div>
	</div>
	
	<script type="text/javascript">
		jQuery(document).ready(function(){
			var relval=1;
			var count=0;
			var pagerhtml="";
			[Product.UpSells=
				count+=relval;
			];
			count=(count%3);
		
			for (ctr=1; ctr<=count;ctr++){
				pagerhtml+='<li><a rel="'+(ctr-1)+'" href="#" class="pagenum">'+(ctr)+'</a></li>';
			}
			jQuery('.pager').append(pagerhtml);
			
			var upslider =jQuery('#upsell');
			upslider.tinycarousel({pager: true, display:3, interval:true});
			
		});
	</script>
</div>
|.no=]


